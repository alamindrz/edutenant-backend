<!-- templates/users/partials/staff_row.html -->
<tr>
    <td>
        <strong>{{ staff.staff_id }}</strong>
    </td>
    <td>
        <div class="d-flex align-items-center">
            <div class="avatar-sm bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2"
                 style="width: 32px; height: 32px;">
                {{ staff.first_name|first|upper }}{{ staff.last_name|first|upper }}
            </div>
            <div>
                <strong>{{ staff.full_name }}</strong>
                {% if staff.user %}
                <small class="text-muted d-block">User account</small>
                {% endif %}
            </div>
        </div>
    </td>
    <td>{{ staff.position }}</td>
    <td>{{ staff.department|default:"-" }}</td>
    <td>{{ staff.email }}</td>
    <td>
        <span class="badge {% if staff.is_active %}bg-success{% else %}bg-secondary{% endif %}">
            {% if staff.is_active %}Active{% else %}Inactive{% endif %}
        </span>
    </td>
    <td>
        <div class="btn-group btn-group-sm">
            <a href="{% url 'users:staff_detail' staff.id %}" class="btn btn-outline-primary" title="View Details">
                <i class="fas fa-eye"></i>
            </a>
            <button class="btn {% if staff.is_active %}btn-warning{% else %}btn-success{% endif %}"
                    hx-post="{% url 'users:staff_toggle_active' staff.id %}"
                    hx-target="closest tr"
                    hx-swap="outerHTML"
                    hx-confirm="{% if staff.is_active %}Deactivate this staff member?{% else %}Activate this staff member?{% endif %}"
                    title="{% if staff.is_active %}Deactivate{% else %}Activate{% endif %}">
                <i class="fas {% if staff.is_active %}fa-times{% else %}fa-check{% endif %}"></i>
            </button>
        </div>
    </td>
</tr>