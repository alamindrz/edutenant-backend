<nav class="nav flex-column py-3 sidebar-desktop">
    {% for item in desktop_navigation %}
        {% if item.children %}
            <div class="mb-1">
                <button class="nav-link w-100 border-0 bg-transparent d-flex align-items-center {% if item.is_active %}active{% endif %}" 
                        data-bs-toggle="collapse" data-bs-target="#collapse-{{ forloop.counter }}">
                    <i class="bi bi-{{ item.icon }} me-3"></i>
                    <span>{{ item.label }}</span>
                    <i class="bi bi-chevron-down ms-auto small"></i>
                </button>
                <div class="collapse {% if item.is_active %}show{% endif %}" id="collapse-{{ forloop.counter }}">
                    <div class="nav flex-column ms-4 border-start">
                        {% for child in item.children %}
                            <a href="{{ child.get_url }}" class="nav-link small py-1 {% if child.is_active %}text-primary fw-bold{% endif %}">
                                {{ child.label }}
                            </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% else %}
            <a href="{{ item.get_url }}" class="nav-link d-flex align-items-center mb-1 {% if item.is_active %}active{% endif %}">
                <i class="bi bi-{{ item.icon }} me-3"></i>
                <span>{{ item.label }}</span>
            </a>
        {% endif %}
    {% endfor %}
</nav>
